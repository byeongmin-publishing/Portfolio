/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} options {event : string, cut : object[number || string[number-number] : number], namespace : string}
 * @return {jQueryElement || jQueryObject}
 */
try{!function(e){if("function"!=typeof e)throw"제이쿼리가 없습니다.";var t=e("html"),a=[],n="_",i={active:"active",state:"state",has:"has",solo:"solo",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function s(e){var t;return arguments.length&&(null===e?t="null":void 0===e?t="undefined":"date"===(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""))&&isNaN(new Date(e))?t="Invalid Date":"number"===t?isNaN(e)?t="NaN":isFinite(e)||(t=e.toString()):"console"===t?t="object":t.indexOf("element")>-1?t="element":t.indexOf("document")>-1&&(t="document")),t}function l(t){var a,n,i,l="function"==typeof e,o=s(t),r=!1;if(("element"===o||l&&t instanceof e)&&(t={element:t},o="object"),"object"===o){var d=s(t.element);if("window"!==d&&"document"!==d&&"element"!==d||(t.element=[t.element],d="array"),"array"===d||l&&t.element instanceof e){for(var c=[],p=t.element.length,v=0;v<p;v++){var h=t.element[v];n=void 0,void 0,n=!1,("element"===(i=s(a=h))||"window"===i&&!0===t.isIncludeWindow||"document"===i&&!0===t.isIncludeDocument)&&(n="element"!==i||!0!==t.isInPage||document.documentElement.contains(a)),n&&c.push(h)}var u=c.length;u&&(!0===t.isMatch?p===u&&(r=!0):r=!0)}}return r}function o(t,a){for(var n=[],i=e(t),s="string"==typeof a?a.length:0,l=0,o=i.length;l<o;l++){var r=i.eq(l),d=r.attr("class");if(d)for(var c=0,p=(d=d.split(/\s/)).length;c<p;c++){var v=d[c];v.substring(0,s)===a&&(r.removeClass(v),n.push(v))}}return 1===n.length&&(n=n[0]),n}i.activePrev=i.active+n+i.prev,i.activeNext=i.active+n+i.next,i.actived=i.active+"d",i.activedPrev=i.actived+n+i.prev,i.activedNext=i.actived+n+i.next,e(function(){e.fn.menu=function(r){var d,c,p,v=this.first(),h=v[0]||{},u=h.style,f=function(t){for(var n=e(t),i=[],l=a.length,o=0,r=n.length;o<r;o++){var d=n.eq(o),c=!1,p=0;for(l=a.length;p<l;p++){var v=a[p];if("object"===s(v)&&d.is(v.element)){i.push(p),c=!0;break}}c||i.push(-1)}return 1===i.length&&(i=i[0]),i}(h),m=a[f],g=e.Event("menu"),$=(c=s(d=r),p=d,"object"===c?p=e.extend(!0,{},d):"array"===c&&(p=d.slice()),p);if("string"==typeof $){if($=$.toLowerCase(),m){var x=m.settings;if("destroy"===$){var C=x.namespace;x.$depthCutItem.remove(),v.removeClass(i.initialized),t.removeClass(x.className.globalActive+" "+x.className.globalOpen),o(v,i.state),x.$depthItem.removeClass(i.has+" "+i.solo+" "+i.activePrev+" "+i.active+" "+i.activeNext+" "+i.activedPrev+" "+i.actived+" "+i.activedNext),u.height="",x.$openElement.off("click."+C),x.$closeElement.off("click."+C),x.$depth1.off("mouseover."+C+" mouseleave."+C),x.$depthText.off("click."+C),x.$depthAndText.off("mouseover."+C),x.$depthText.off("keydown."+C),x.$depthTitle1.off("focusin."+C+" focusout."+C),x.$depthTitle2.off("mouseout."+C),a.splice(f,1)}else if("spy"===$){var y=arguments[1];l(y)||(y=x.$activedDepthLastText[0]),y=e(y).first()[0],x.$depthText.is(y)&&x.openMenu.call(y,g)}}}else if(l(h)){var b={width:"",height:""},T=parseInt(v.attr("data-menu-type"),10);function N(e){var t="";return e>0&&(t='ul[data-menu-list="'+e+'"]'),t}function w(t){var a=e(t).parents("li"),n=[];o(v,i.state);for(var s=0,l=a.length;s<l;s++){var r=i.state+($.$depthItem.index(a[s])+1);n.push(r),v.addClass(r)}return 1===n.length&&(n=n[0]),n}function I(t){var a=!1;return $.$activedDepthLastText.length&&("click"===$.event?($.$depth1Text.is(t)&&!e(t).closest("li").hasClass(i.actived)||v.is(t))&&(a=!0):a=!0),a?v.menu("spy"):$.closeMenu.call(t,g),t}function L(t,a){var n=e(t);"string"==typeof a&&(a=a.toLowerCase());for(var i=0,s=n.length;i<s;i++)if($.$depthCutItem.is(n[i])){var l=n.eq(i);"prev"===a?n[i]=l.prev("li")[0]:"next"===a&&(n[i]=l.next("li")[0])}return e(n)}m&&v.menu("destroy"),"object"!==s($)&&($={}),$.type=T||1,T||v.attr("data-menu-type",1),$.namespace&&"string"==typeof $.namespace||($.namespace=v.attr("id")||h.tagName.toLowerCase()+(a.length+1)),"object"!==s($.cut)&&($.cut={}),"string"==typeof $.event&&($.event=$.event.toLowerCase()),"mouse"!==$.event&&"click"!==$.event&&($.event="mouse"),$.confirm&&"string"==typeof $.confirm||($.confirm="콘텐츠로 이동하시겠습니까?"),$.$openElement=e('div[data-menu-open="'+$.namespace+'"] button[data-menu-button]'),$.$closeElement=e('div[data-menu-close="'+$.namespace+'"] button[data-menu-button]'),$.className={globalActive:$.namespace+n+i.active,globalOpen:$.namespace+n+i.open},$.$wildCard=v.add(v.find("*")),$.$depth=v.find("div[data-menu-depth]"),$.$depth1=$.$depth.filter('div[data-menu-depth="1"]'),$.$depth1Text=$.$depth1.find('a[data-menu-text="1"], button[data-menu-text="1"]'),$.$depthTitle=$.$depth1.find("div[data-menu-title]"),$.$depthTitle1=$.$depthTitle.filter('[data-menu-title="1"]'),$.$depthTitle2=$.$depthTitle.filter('[data-menu-title="2"]'),$.$depth2=$.$depth.filter('[data-menu-depth="2"]'),$.$depthList=$.$depth.find("ul[data-menu-list]"),$.$depthItem=$.$depthList.children("li"),$.$depthText=$.$depth1.find("a[data-menu-text], button[data-menu-text]"),$.$depthLastText=$.$depthText.last(),$.$depthAndText=$.$depth.not('div[data-menu-depth="1"]').add($.$depthText),$.$activedDepthLastText=$.$depth1.find("[data-menu-text][data-menu-actived]").filter("a, button").last(),$.$activedDepthItem=$.$activedDepthLastText.parents("li"),$.$wildCard.css("transition-property","none"),b.width=v.outerWidth()||"",b.height=v.outerHeight()||"",$.$wildCard.css("transition-property",""),$.$activedDepthItem.prev("li").addClass(i.activedPrev),$.$activedDepthItem.addClass(i.actived),$.$activedDepthItem.next("li").addClass(i.activedNext),v.addClass(i.initialized);for(var k in $.cut){var P=k.split("-"),D=P.length,M=parseInt(P[0],10),j=parseInt($.cut[k],10),A=v;if(D>1)for(var q=0;q<D;q++){var E=parseInt(P[q],10);if(!(E>0)){A.length=0;break}var O=q+1,z=N(O);O!==D&&(z+=" > li:nth-child("+E+")"),A=A.find(z)}else 1===D&&M>1&&(A=A.find(N(M)));if(!A.is(v)&&j>1){q=0;for(var H=A.length;q<H;q++)A.eq(q).children("li:nth-child("+j+"n)").next("li").prev("li").after('<li class="'+i.cut+'">&nbsp;</li>')}}$.$depthCutItem=$.$depthList.children("li."+i.cut);k=0;for(var S=$.$depthItem.length;k<S;k++){var W=$.$depthItem.eq(k);W.find("div[data-menu-depth]:first").length?W.addClass(i.has):W.addClass(i.solo)}$.openMenu=function(a){var n=e(this).parents("li"),s=n.first(),l=n.last(),o=l.find('div[data-menu-depth="2"]'),r=L(n.prev("li").get(),"prev"),d=L(n.next("li").get(),"next");if("mouse"===$.event)$.closeMenu.call(this,a);else{var c=n.find("[data-menu-text]:first").filter("a, button").closest("li");c.add(c.siblings("li")).removeClass(i.activePrev+" "+i.active+" "+i.activeNext)}if(t.addClass($.className.globalActive),r.addClass(i.activePrev),n.addClass(i.active),d.addClass(i.activeNext),w(l.add(l.find("ul[data-menu-list] > li")).filter("."+i.active).last().find("[data-menu-text]:first").filter("a, button")[0]),1===$.type||2===$.type){var p=s.find("div[data-menu-depth]:first");function v(){var t="";if(1===$.type){t=[];for(var a=0,n=$.$depth2.length;a<n;a++)t[a]=$.$depth2.eq(a).children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||0;t=Math.max.apply(null,t)||""}else 2===$.type&&(t=o.children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||"");t&&(t+=b.height,t+="px"),u.height=t}v(),p.length&&p.one("transitionend."+$.namespace,function(e){s.hasClass(i.active)&&v()})}a.stopPropagation()},$.closeMenu=function(a){var n=e(this);if("mouse"===$.event)t.removeClass($.className.globalActive),o(v,i.state),1!==$.type&&2!==$.type||(u.height=""),$.$depthItem.removeClass(i.activePrev+" "+i.active+" "+i.activeNext);else{var s=this,l=n.parents("li");if(n.is($.$depthLastText)){var r=L(l.prev("li").get(),"prev"),d=L(l.next("li").get(),"next");s=l.last().find('[data-menu-text="1"]').filter("a, button")[0],r.removeClass(i.activePrev),l.removeClass(i.active),d.removeClass(i.activeNext),o(v,i.state)}else{var c=l.first(),p=L(c.prev("li")[0],"prev"),h=L(c.next("li")[0],"next");p.removeClass(i.activePrev),c.removeClass(i.active),h.removeClass(i.activeNext),w(l.eq(1).find("[data-menu-text]:first").filter("a, button")[0])}$.$depth1Text.is(s)&&(t.removeClass($.className.globalActive),1!==$.type&&2!==$.type||(u.height=""))}a.stopPropagation()},$.toggleMenu=function(t){for(var a=e(this),n=a.closest("li"),s=n.find("div[data-menu-depth]:first"),l=s.find("ul[data-menu-list]:first > li a[data-menu-text]:first-of-type"),o=this.tagName.toLowerCase(),r=n.hasClass(i.active),d=a.attr("href")||"",c=!1,p=0,v=l.length;p<v;p++)if(d===l.eq(p).attr("href")){c=!0;break}s.length&&"none"!==s.css("display")&&(r?"button"!==o&&!c&&window.confirm($.confirm)||(I(this),t.preventDefault()):($.openMenu.call(this,t),t.preventDefault())),t.stopPropagation()},"mouse"===$.event?($.$depthAndText.on("mouseover."+$.namespace,$.openMenu),$.$depth1.on("mouseover."+$.namespace,function(a){t.hasClass($.className.globalActive)&&(1===$.type&&e(this).is(a.target)||2===$.type&&!$.$depthTitle1.add($.$depthTitle1.find("*")).is(a.target))&&I(this)}).on("mouseleave."+$.namespace,function(e){I(this)}),$.$depthTitle1.on("focusin."+$.namespace,function(e){1===$.type&&$.openMenu.call(this,e)}).on("focusout."+$.namespace,function(e){1===$.type&&I(this)}),$.$depthTitle2.on("mouseout."+$.namespace,function(e){1===$.type&&I(this)}),$.$depthText.on("keydown."+$.namespace,function(e){13===(e.keyCode||e.which)&&$.toggleMenu.call(this,e)})):$.$depthText.on("click."+$.namespace,$.toggleMenu),$.$openElement.on("click."+$.namespace,function(e){t.toggleClass($.className.globalOpen)}),$.$closeElement.on("click."+$.namespace,function(e){t.removeClass($.className.globalOpen)}),a.push({element:h,settings:$}),I(h)}return v}})}(window.jQuery)}catch(e){console.error(e)}